<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swiper Grid</title>
    <!-- swiper, Toast ui grid 적용 -->
    <link rel="stylesheet" href="./node_modules/tui-grid/dist/tui-grid.min.css">
    <link rel="stylesheet" href="./node_modules/swiper/swiper-bundle.css">
    <script src="./node_modules/swiper/swiper-bundle.js"></script>
    <script src="./node_modules/tui-grid/dist/tui-grid.min.js"></script>

    <style>
        .tui-grid-cell-header {
            font-size: larger;
        }

        .tui-grid-cell-has-input {
            font-size: medium;

            text-align: center !important
        }

        h3 {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <h3>테스트 결과</h3>
                <div style="margin: 5%;" id="grid"></div>
            </div>
            <div class="swiper-slide">
                <h3>2021 레이싱 게임 분기별 판매 현황</h3>
                <div style="margin: 5%;" id="cColumn"></div>
            </div>
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>

    <script>
        // ---------- 기본 tui grid -------------
        var gridData = [{
                // 데이터 생성 시 Row단위로 생성
                tests: 'test1',
                A: 8.2,
                B: 5.3,
                C: 6.5
            },
            {
                tests: 'test2',
                A: 4.2,
                B: 3.9,
                C: 5.3
            },
            {
                tests: 'test3',
                A: 2.2,
                B: 1.5,
                C: 3.2
            },
            {
                tests: 'test4',
                A: 1.2,
                B: 2.1,
                C: 12
            }
        ]

        // draw grid
        const grid = new tui.Grid({
            el: document.getElementById('grid'),
            data: gridData,
            scrollX: false,
            scrollY: false,
            columns: [{
                    header: 'Test별', // display 되는 값
                    name: 'tests' // 해당 컬럼 이름.
                },
                {
                    header: 'A기체',
                    name: 'A'
                },
                {
                    header: 'B기체',
                    name: 'B'
                },
                {
                    header: 'C기체',
                    name: 'C'
                },
            ],
            header: {
                height:50
            }
        });

        // ---------- 복합 컬럼 tui grid -------------
        // 단위지정(컴포넌트 아닙니다)
        var unit = ' milion copy';

        function unitF(num) {
            return num + unit;
        }

        // 임의 데이터
        var dataSet = {
            DrivingGame: [{
                    'game': 'Forza Horizon 5 (xboxGamePass제외)',
                    '1q': unitF(1300),
                    '2q': unitF(2000),
                    '3q': unitF(1490),
                    '4q': unitF(800)
                },
                {
                    'game': 'The Crew2',
                    '1q': unitF(800),
                    '2q': unitF(700),
                    '3q': unitF(650),
                    '4q': unitF(630)
                },
                {
                    'game': 'Need for speed Heat',
                    '1q': unitF(850),
                    '2q': unitF(870),
                    '3q': unitF(670),
                    '4q': unitF(400)
                },
                {
                    'game': 'Asseto Corsa',
                    '1q': unitF(450),
                    '2q': unitF(700),
                    '3q': unitF(1000),
                    '4q': unitF(1200)
                },
                {
                    'game': 'Project Cars2',
                    '1q': unitF(1100),
                    '2q': unitF(700),
                    '3q': unitF(630),
                    '4q': unitF(420)
                }
            ]
        }

        // draw grid
        const complexColumns = new tui.Grid({
            el: document.getElementById('cColumn'), // 표가 생성 될 div
            data: dataSet.DrivingGame,
            // 하위 컬럼.
            columns: [{
                    header: 'Games',
                    name: 'game'
                },
                {
                    header: '1분기',
                    name: '1q'
                },
                {
                    header: '2분기',
                    name: '2q'
                },
                {
                    header: '3분기',
                    name: '3q'
                },
                {
                    header: '4분기',
                    name: '4q'
                }
            ],
            // header.complexColumns로 복합컬럼 정의. 트리구조로 만들 수 있다.
            header: {
                height: 100,
                complexColumns: [{
                        header: '상반기',
                        name: 'firstHalf',
                        childNames: ['1q', '2q'] // 하위컬럼 지정.
                    },
                    {
                        header: '하반기',
                        name: 'secondHalf',
                        childNames: ['3q', '4q']
                    },
                    {
                        header: '2021',
                        name: 'year',
                        childNames: ['firstHalf', 'secondHalf']
                    }
                ]
            },
        });

        // ---------- swiper 적용 -------------
        var swiper = new Swiper('.swiper-container', {
            // 좌우 버튼
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev'
            }
        });
    </script>
</body>

</html>